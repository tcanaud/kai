# Feature Lifecycle Tracker — Project Configuration
# Generated by: npx feature-lifecycle init
# Edit this file to customize paths and rules for your project.

version: "1.0"

# ── Paths (auto-detected) ────────────────────────────
# All paths are relative to project root.
bmad_dir: "_bmad"
bmad_output_dir: ".bmad_output"
speckit_specs_dir: "specs"
agreements_dir: ".agreements"
adr_dir: ".adr"
mermaid_dir: ".bmad_output/mermaid"

# ── Defaults ──────────────────────────────────────────
default_owner: "tcanaud"

# ── Stage Rules ───────────────────────────────────────
# Evaluated top-to-bottom. Highest matching stage wins.
# requires_all: all artifact keys must be true
# requires_any: at least one must be true
# condition: task completion threshold expression
# requires_manual: stage cannot be auto-assigned
stage_rules:
  ideation:
    description: "Product intent captured"
    requires_any:
      - "bmad.prd"
      - "speckit.spec"
  spec:
    description: "Feature specified"
    requires_all:
      - "speckit.spec"
  plan:
    description: "Implementation planned"
    requires_all:
      - "speckit.spec"
      - "speckit.plan"
  tasks:
    description: "Tasks defined, work not started"
    requires_all:
      - "speckit.tasks"
    condition: "tasks_completion < 0.5"
  implement:
    description: "Active implementation"
    requires_all:
      - "speckit.tasks"
    condition: "tasks_completion >= 0.5 AND tasks_completion < 1.0"
  test:
    description: "Implementation complete, under validation"
    requires_all:
      - "speckit.tasks"
    condition: "tasks_completion == 1.0"
  release:
    description: "Shipped"
    requires_manual: true

# ── Health Rules ──────────────────────────────────────
health_rules:
  critical_when:
    - "agreement.check == FAIL"
  warning_when:
    - "agreement.check == MISSING"
    - "spec_completeness < 0.5"
    - "adr_coverage == 0"
