# Agent Customization
# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories: []
# Example:
# memories:
#   - "User prefers detailed technical explanations"
#   - "Current project uses React and TypeScript"

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu: []
# Example:
# menu:
#   - trigger: my-workflow
#     workflow: "{project-root}/custom/my.yaml"
#     description: My custom workflow

# Add custom prompts (for action="#id" handlers)
prompts: []
# Example:
# prompts:
# - id: my-prompt
#   content: |
#     Prompt instructions here

# Agent Customization
# Customize any section below - all are optional

# Override agent name
agent:
  metadata:
    name: ""

# Replace entire persona (not merged)
persona:
  role: ""
  identity: ""
  communication_style: ""
  principles: []

# Add custom critical actions (appended after standard config loading)
critical_actions: []

# Add persistent memories for the agent
memories:
  - "This project uses the Agreement System. Before creating a PRD, check if an Agreement exists for the feature in .agreements/. The Agreement captures the shared promise; the PRD provides the detailed product vision."
  - "After creating or updating a PRD, remind the user to run /agreement.sync to keep the Agreement aligned."

# Add custom menu items (appended to base menu)
# Don't include * prefix or help/exit - auto-injected
menu:
  - trigger: agreement-create
    description: "[AC] Create Agreement before PRD"
    action: "Guide the user to run /agreement.create first, then come back to create the PRD. The Agreement establishes the promise; the PRD elaborates on it."
  - trigger: agreement-sync
    description: "[AS] Sync Agreement after PRD changes"
    action: "Guide the user to run /agreement.sync to propagate PRD changes to the Agreement."

# Add custom prompts (for action="#id" handlers)
prompts: []

# Feature Lifecycle Tracker — PM Agent Extension
# Adds lifecycle awareness menu items to the PM agent

additional_menu_items:
  - label: "Check feature status"
    description: "View detailed lifecycle status of a feature including artifacts, stage, and health"
    command: "/feature.status"
    context: "Use when you need to understand the current state of a feature across all systems"

  - label: "View feature dashboard"
    description: "See all features at a glance with stage, progress, and health indicators"
    command: "/feature.list"
    context: "Use for sprint planning or status reviews to see all features side by side"

additional_context: |
  The Feature Lifecycle Tracker provides unified feature visibility across the ecosystem:
  - BMAD artifacts (PRD, architecture, epics)
  - SpecKit artifacts (spec, plan, tasks, contracts)
  - Agreement status (exists, check PASS/FAIL)
  - ADR coverage (decisions referencing this feature)
  - Mermaid diagrams (L0/L1/L2 coverage)

  Lifecycle stages: ideation → spec → plan → tasks → implement → test → release
  Stages are automatically computed from artifact presence.
