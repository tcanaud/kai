---
id: "FB-001"
title: "Add shared input validation utility across all packages"
status: "triaged"
category: "evolution"
priority: "medium"
source: "user"
reporter: "Thibaud Canaud"
created: "2026-02-18"
updated: "2026-02-18"
tags: []
exclusion_reason: ""
linked_to:
  backlog:
    - "BL-001"
  features:
    - "011-shared-input-validation"
  feedbacks: []
resolution:
  resolved_date: ""
  resolved_by_feature: ""
  resolved_by_backlog: ""
---

Input validation is missing across all 8 kai packages. Feature IDs, file paths, and CLI arguments are not sanitized before being used in file operations. A malformed ID like "../../etc/passwd" could cause path traversal. YAML keys extracted via regex have no schema validation, leading to silent failures on malformed input. Need a shared validation utility (validateFeatureId, validateYamlPath, validateCliArg) that all packages can use. This would prevent silent failures, improve debuggability, and close a security gap. Estimated effort: 1-2 hours. Affects: feature-lifecycle, qa-system, agreement-system, product-manager, knowledge-system, adr-system, tcsetup.
